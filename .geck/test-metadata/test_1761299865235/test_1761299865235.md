# Test Run Report: Custom Input Field Addition Verification

**Test ID:** test_1761299865235
**Generated:** 2025-10-24T10:16:54.618Z

## Test Overview

### Basic Information

| Field | Value |
|-------|-------|
| **Test Name** | Custom Input Field Addition Verification |
| **Steps Summary** | Add and verify custom input field |
| **Status** | failed |
| **Total Time Elapsed** | 409.74 seconds |
| **Progress** | 71% |

### AI Token Usage & Cost

This section shows the AI model usage statistics for this test run, including token consumption and estimated costs.

| Metric | Value |
|--------|-------|
| **Prompt Tokens** | 4,998 |
| **Completion Tokens** | 1,447 |
| **Total Tokens** | 6,445 |
| **Cost Estimate** | $0.0016 |

## UX Analysis

*UX analysis data is also available as raw JSON in `ux-analysis.json` in this directory.*

### Emotional Journey

This analysis describes the user's emotional experience throughout the test execution, highlighting moments of confidence, frustration, and satisfaction.

> Starts confident (site loads fast, logo visible). Mild friction when live preview lags (retries & 30-40 s waits). Major frustration when the primary navigation tab gives no visual feedback — user is unsure which step they’re on. Confidence sinks further when custom fields feel painfully slow to add and don’t appear in the preview, leaving the user uncertain whether the feature works at all.

### Step-by-Step Narrative

Detailed breakdown of each test step with status and key observations from the UX analysis.

| Step | Status | Details |
|------|--------|---------|
| Launch site & land on dashboard | ✅ pass | All 3 ‘happy-path’ tests (logo, name input, address input) begin by loading https://invoify.vercel.app/en and land on the dashboard without issue. |
| Verify header logo | ✅ pass | Logo visible; screenshot captured. |
| Fill in “Bill From – Name” and preview | ✅ pass | User types “zeeshan”; after one retry it appears in Live Preview. |
| Fill in “Bill From – Address” and preview | ✅ pass | User types “street 123”; after one retry and a 39-second wait it shows in Live Preview. |
| FAILED – Default ‘From & To’ tab styling | ❌ fail | Step 2 cannot locate a button labelled “1 · From & To” with black background (timeout 5 s). Test halts. Real users would not see a selected state. |
| Add custom field (‘Gender/Male’) | ❌ fail | Adding the custom input itself works, but typing the field label took 5 min (318 s!). Verification that “Male” shows in preview times out (49 s) and fails. |

### Qualitative Improvement Opportunities

Identified areas for UX improvement with rationale and actionable next steps.

| Area | Why It Matters | Next Actions |
|------|----------------|--------------|
| **Step-navigation (‘From & To’, ‘Items’, etc.) visual state** | Without a clear selected state users lose orientation in a multi-step form. | • Ensure the default/active tab has unmistakable contrast (e.g., solid brand colour, underline) that meets WCAG AA.<br>• Add ARIA attributes (aria-current) for accessibility & automated tests.<br>• Include analytics event to confirm users click next rather than abandon. |
| **Live Preview latency & reliability** | Slow or missed updates make users doubt the accuracy of their invoice and add cognitive load. | • Debounce inputs but push updates within <300 ms.<br>• Show a subtle skeleton loader or spinner while preview refreshes.<br>• Write unit tests for preview rendering instead of 40-second polling. |
| **Custom input field UX** | Custom fields are power-user features; if they feel broken users will abandon or create work-arounds outside the product. | • Investigate 318 s delay—likely an async validation or unnecessary re-render; profile and fix.<br>• After saving, auto-scroll to the preview and flash/highlight the new field.<br>• Map Bill From custom fields to Bill From section; current selector points to Bill To causing test failure. |
| **Form field labels & placeholders** | Generic placeholders (“Name”, “Value”) force users to think. | • Rename to “Field label (e.g., Tax ID)” and “Field value”.<br>• Add inline example beneath to shorten learning curve. |
| **Performance guardrails in CI tests** | Very long step runtimes hide real regressions and exhaust budgets. | • Set max-time threshold (e.g., fail any step >15 s).<br>• Run Lighthouse perf audits on each PR. |

### Priority Action Items

Ranked list of immediate actions to improve the user experience, ordered by impact and feasibility.

1. **Add unmistakable active-tab styling to the step navigation to fix orientation and the failing ‘From & To’ test.**
2. **Profile and fix the Live Preview rendering path so updates appear <300 ms (will resolve retries and build user trust).**
3. **Resolve custom-field binding so newly added fields instantly show in the correct preview section.**
4. **Clarify custom-field labels (‘Field label’ / ‘Field value’) to reduce user guesswork.**
5. **Introduce a performance budget in tests to catch any future 30-second+ render regressions early.**

## Appendix: Detailed Step Results

Complete technical details of each test step execution, including timing, status, and UI review results.

| Step | Status | Description | Runtime (ms) | UI Checks | Screenshot |
|------|--------|-------------|--------------|-----------|------------|
| 1 | ✅ pass | Open a web browser and navigate to the URL https://invoify.vercel.app/en. | 7179 | N/A | 📸 Yes |
| 2 | ✅ pass | Scroll to locate the Bill From form on the webpage. | 7101 | N/A | 📸 Yes |
| 3 | ✅ pass | Click the add custom input button within the Bill From form. | 14067 | N/A | 📸 Yes |
| 4 | ✅ pass | Enter 'Gender' as the name for the custom input field. | 318623 | N/A | 📸 Yes |
| 5 | ✅ pass | Fill in 'Male' in the custom field value input. | 12983 | N/A | 📸 Yes |
| 6 | ❌ fail | Verify that the preview section displays 'Male' to confirm the input was added. | 49754 | N/A | ❌ No |
| 7 | ❌ pending | Take a screenshot of the completed view for verification. | N/A | N/A | ❌ No |

### Screenshots

Screenshots captured during test execution are available in this directory:

- **Step 1:** `step1.png` - Open a web browser and navigate to the URL https://invoify.vercel.app/en.
- **Step 2:** `step2.png` - Scroll to locate the Bill From form on the webpage.
- **Step 3:** `step3.png` - Click the add custom input button within the Bill From form.
- **Step 4:** `step4.png` - Enter 'Gender' as the name for the custom input field.
- **Step 5:** `step5.png` - Fill in 'Male' in the custom field value input.

### Code Generation Summary

This section provides an overview of the Playwright code generation process for each test step.

| Metric | Count |
|--------|-------|
| **Total Code Attempts** | 12 |
| **Successful Attempts** | 4 |
| **Failed Attempts** | 8 |
| **Success Rate** | 33.3% |

### Step Details

#### Step 1: Open a web browser and navigate to the URL https://invoify.vercel.app/en.

- **Status:** pass
- **Reason:** Open a web browser and navigate to the URL https://invoify.vercel.app/en.
- **Runtime:** 7179ms
- **Screenshot:** Captured
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. SKIP: Navigation to the URL https://invoify.vercel.app/en completed successfully. | ⏭️ skipped | N/A | N/A |


#### Step 2: Scroll to locate the Bill From form on the webpage.

- **Status:** pass
- **Reason:** Scroll to the "Bill From" section on the webpage.
- **Runtime:** 7101ms
- **Screenshot:** Captured
- **Summary:**
  - Processing: Scroll to the "Bill From" section on the webpage.
  - Completed: Scroll to the "Bill From" section on the webpage.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Scroll to the "Bill From" section on the webpage. | ✅ executed | 1 | N/A |
  | 2. SKIP: The "Bill From" form has been successfully located on the webpage. | ⏭️ skipped | N/A | N/A |

#### Sub-step 1: Scroll to the "Bill From" section on the webpage.

**Attempt 1** ✅

**Generated Playwright Code:**

```typescript
await page.locator('section:has(h4:text("Bill From"))').scrollIntoViewIfNeeded();
```


#### Step 3: Click the add custom input button within the Bill From form.

- **Status:** pass
- **Reason:** Click the "Add Custom Input" button within the "Bill From" section.
- **Runtime:** 14067ms
- **Screenshot:** Captured
- **Summary:**
  - Processing: Click the "Add Custom Input" button within the "Bill From" section.
  - Completed: Click the "Add Custom Input" button within the "Bill From" section.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Click the "Add Custom Input" button within the "Bill From" section. | ✅ executed | 2 | N/A |
  | 2. SKIP: The "Add Custom Input" button within the "Bill From" section has already been clicked. | ⏭️ skipped | N/A | N/A |

#### Sub-step 1: Click the "Add Custom Input" button within the "Bill From" section.

**Attempt 1** ❌

**Generated Playwright Code:**

```typescript
await page.getByRole('button', { name: /Add Custom Input/i }).click();
```

**Error:** locator.click: Error: strict mode violation: getByRole('button', { name: /Add Custom Input/i }) resolved to 2 elements:
    1) <button type="button" data-state="closed" class="inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 text-primary underline-offset-4 hover:underline h-9 rounded-md px-3 w-fit">…</button> aka locator('section').filter({ hasText: 'Bill From:Name:Address:Zip:' }).getByRole('button')
    2) <button type="button" data-state="closed" class="inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 text-primary underline-offset-4 hover:underline h-9 rounded-md px-3 w-fit">…</button> aka locator('section').filter({ hasText: 'Bill To:Name:Address:Zip:City' }).getByRole('button')

Call log:
[2m  - waiting for getByRole('button', { name: /Add Custom Input/i })[22m


**Attempt 2** ✅

**Generated Playwright Code:**

```typescript
await page.locator('section:has(h4:has-text("Bill From")) button:has-text("Add Custom Input")').click();
```


#### Step 4: Enter 'Gender' as the name for the custom input field.

- **Status:** pass
- **Reason:** Fill the custom input field with the placeholder "Name" with the text 'Gender'.
- **Runtime:** 318623ms
- **Screenshot:** Captured
- **Summary:**
  - Processing: Fill the custom input field with the placeholder "Name" with the text 'Gender'.
  - Completed: Fill the custom input field with the placeholder "Name" with the text 'Gender'.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Fill the custom input field with the placeholder "Name" with the text 'Gender'. | ✅ executed | 2 | N/A |
  | 2. SKIP: The custom input field has already been filled with 'Gender' as required by the test step. | ⏭️ skipped | N/A | N/A |

#### Sub-step 1: Fill the custom input field with the placeholder "Name" with the text 'Gender'.

**Attempt 1** ❌

**Generated Playwright Code:**

```typescript
await page.getByPlaceholder("Name").fill("Gender");
```

**Error:** locator.fill: Error: strict mode violation: getByPlaceholder('Name') resolved to 3 elements:
    1) <input value="" name="sender.name" aria-invalid="false" placeholder="Your name" id="_R_4qiltaivb_-form-item" aria-describedby="_R_4qiltaivb_-form-item-description" class="flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opa…/> aka getByPlaceholder('Your name')
    2) <input value="" placeholder="Name" id="_r_f_-form-item" aria-invalid="false" name="sender.customInputs[0].key" aria-describedby="_r_f_-form-item-description" class="flex rounded-md border border-input bg-background text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-medium p…/> aka getByRole('textbox', { name: 'Name', exact: true })
    3) <input value="" aria-invalid="false" name="receiver.name" placeholder="Receiver name" id="_R_5ailtaivb_-form-item" aria-describedby="_R_5ailtaivb_-form-item-description" class="flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabl…/> aka getByPlaceholder('Receiver name')

Call log:
[2m  - waiting for getByPlaceholder('Name')[22m


**Attempt 2** ✅

**Generated Playwright Code:**

```typescript
await page.locator('input[placeholder="Name"]').fill('Gender');
```


#### Step 5: Fill in 'Male' in the custom field value input.

- **Status:** pass
- **Reason:** Fill the custom input field with the placeholder "Value" with the text 'Male'.
- **Runtime:** 12983ms
- **Screenshot:** Captured
- **Summary:**
  - Processing: Fill the custom input field with the placeholder "Value" with the text 'Male'.
  - Completed: Fill the custom input field with the placeholder "Value" with the text 'Male'.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Fill the custom input field with the placeholder "Value" with the text 'Male'. | ✅ executed | 1 | N/A |
  | 2. SKIP: The custom field value input has been successfully filled with 'Male'. | ⏭️ skipped | N/A | N/A |

#### Sub-step 1: Fill the custom input field with the placeholder "Value" with the text 'Male'.

**Attempt 1** ✅

**Generated Playwright Code:**

```typescript
await page.getByPlaceholder("Value").fill("Male");
```


#### Step 6: Verify that the preview section displays 'Male' to confirm the input was added.

- **Status:** fail
- **Reason:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has(h4:text("Bill To  :"))')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has(h4:text("Bill To  :"))')[22m
 (1 sub-steps failed, 0 executed, 0 skipped)
- **Runtime:** 49754ms
- **Screenshot:** Not captured
- **Summary:**
  - Processing: Verify that the text 'Male' is visible in the preview section.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Verify that the text 'Male' is visible in the preview section. | ❌ failed | 6 | [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has(h4:text("Bill To  :"))')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has(h4:text("Bill To  :"))')[22m
 |

#### Sub-step 1: Verify that the text 'Male' is visible in the preview section.

**Attempt 1** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('section:has(h4:has-text("Bill From"))')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has(h4:has-text("Bill From"))')
Expected string: "Male"
Received string: "Bill From:Name:Address:Zip:City:Country:Email:Phone:Add Custom Input"
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has(h4:has-text("Bill From"))')[22m
[2m    8 × locator resolved to <section class="flex flex-col gap-3">…</section>[22m
[2m      - unexpected value "Bill From:Name:Address:Zip:City:Country:Email:Phone:Add Custom Input"[22m


**Attempt 2** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('div:has-text("Total in words: Zero USD")')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('div:has-text("Total in words: Zero USD")')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('div:has-text("Total in words: Zero USD")')[22m


**Attempt 3** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('section:has-text("Bill From  :")')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has-text("Bill From  :")')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has-text("Bill From  :")')[22m


**Attempt 4** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('div:has-text("Total in words: Zero USD")')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('div:has-text("Total in words: Zero USD")')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('div:has-text("Total in words: Zero USD")')[22m


**Attempt 5** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('section:has(h4:text("Bill From  :"))')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has(h4:text("Bill From  :"))')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has(h4:text("Bill From  :"))')[22m


**Attempt 6** ❌

**Generated Playwright Code:**

```typescript
await expect(page.locator('section:has(h4:text("Bill To  :"))')).toContainText('Male');
```

**Error:** [31mTimed out 5000ms waiting for [39mexpect(locator).toContainText(expected)

Locator: locator('section:has(h4:text("Bill To  :"))')
Expected string: "Male"
Received: <element(s) not found>
Call log:
[2m  - Expect "to.have.text" with timeout 5000ms[22m
[2m  - waiting for locator('section:has(h4:text("Bill To  :"))')[22m



#### Step 7: Take a screenshot of the completed view for verification.

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured
