# Test Run Report: Financial Calculations - Discount and Shipping

**Test ID:** test_1760704758797
**Generated:** 2025-10-17T13:14:50.362Z

## Test Overview

### Basic Information

| Field | Value |
|-------|-------|
| **Test Name** | Financial Calculations - Discount and Shipping |
| **Steps Summary** | Test discount and shipping calculations. Verify that discounts can be applied as percentage or fixed amount, shipping costs are calculated correctly, and all calculations update the final total properly. |
| **Status** | failed |
| **Total Time Elapsed** | 66.62 seconds |
| **Progress** | 9% |

### AI Token Usage & Cost

This section shows the AI model usage statistics for this test run, including token consumption and estimated costs.

| Metric | Value |
|--------|-------|
| **Prompt Tokens** | 15,439 |
| **Completion Tokens** | 1,715 |
| **Total Tokens** | 17,154 |
| **Cost Estimate** | $0.0033 |

## UX Analysis

*UX analysis data is also available as raw JSON in `ux-analysis.json` in this directory.*

### Emotional Journey

This analysis describes the user's emotional experience throughout the test execution, highlighting moments of confidence, frustration, and satisfaction.

> Hopeful on first page load ‚Üí confusion when expected sections never appear ‚Üí repeated frustration/timeouts ‚Üí brief relief when live preview initially works ‚Üí disappointment when dynamic updates break ‚Üí overall loss of confidence, likely abandonment.

### Step-by-Step Narrative

Detailed breakdown of each test step with status and key observations from the UX analysis.

| Step | Status | Details |
|------|--------|---------|
| Landing on invoify.vercel.app | ‚úÖ pass | Every scenario successfully opened the homepage. Good first impression: fast load, logo & primary CTA visible. |
| Trying to start Invoice Wizard ‚Äì Step 1 (Bill From / Bill To) | ‚ùå fail | Both ‚ÄòBill From :‚Äô and ‚ÄòBill To :‚Äô headers never became visible ‚Üí tests timed-out.; User cannot move forward, so all downstream validation, persistence, and navigation checks were skipped. |
| Template gallery & logo upload | ‚ùå fail | Header inside landing page ('BETA English Toggle theme') did not render, so template list wasn‚Äôt reached.; Logo-upload control could not be found. |
| Live preview (basic fill works, dynamic update fails) | ‚ùå mixed | User managed to fill both Bill-From & Bill-To forms and saw data appear in preview (pass).; Updating values later did NOT refresh preview (fail). |
| Wizard-step synchronisation with preview | ‚ùå fail | Wizard navigation button ‚Äò1 . From & To‚Äô never responded ‚Üí preview sync never evaluated. |
| Signature features (draw / type / upload) | ‚ùå fail | Canvas for drawing signature, typed-signature area, and image-upload zone were all missing or hidden. |
| Financial calculations (Line Items, Tax, Discount, Shipping) | ‚ùå fail | ‚ÄòLine Items‚Äô section, ‚ÄòTax Calculation‚Äô block, and subtotal fields were not found, so no calculations could be tested. |
| Global visual QA observations | ‚ùå pass-with-issues | Automated UI review flagged repeated cosmetic issues: inconsistent padding & margins, mis-aligned labels, varying button styles, weak placeholder copy. |

### Qualitative Improvement Opportunities

Identified areas for UX improvement with rationale and actionable next steps.

| Area | Why It Matters | Next Actions |
|------|----------------|--------------|
| **Critical content not rendered / discoverability of key sections** | Users cannot progress or even see core functionality (Bill From/To, Line Items, Tax, Signatures). Blocks conversion entirely. | ‚Ä¢ Audit React/component mounting logic and conditional rendering‚Äîensure sections are inserted into DOM on first load.<br>‚Ä¢ Add loading skeletons or status indicators so users know content is coming.<br>‚Ä¢ Set explicit heights/anchors so off-screen sections can be scrolled to and discovered.<br>‚Ä¢ Add automated smoke test to fail CI when headers are missing. |
| **Wizard navigation / step state management** | Inability to jump between steps or persist data makes multi-step flow feel brittle and forces restart. | ‚Ä¢ Keep step buttons always enabled/visible; disable only with clear explanation.<br>‚Ä¢ Store step data in global form state (e.g., context) and restore on return.<br>‚Ä¢ Highlight current step in UI to orient the user. |
| **Real-time preview & data binding** | Live preview is the product‚Äôs ‚Äòmagic moment‚Äô. Lag or failure erodes trust and causes manual re-checks. | ‚Ä¢ Debounce input updates but ensure one-way data flow to preview; add unit tests on key fields.<br>‚Ä¢ Provide subtle loading indicator inside preview when update is in progress.<br>‚Ä¢ Log to console when binding fails to aid debugging. |
| **Signature & logo controls visibility** | Branding & sign-off are legally required for invoices; if users can‚Äôt find these, they will churn. | ‚Ä¢ Surface these actions in dedicated ‚ÄòBranding‚Äô section; use universally recognised icons (pen, image upload).<br>‚Ä¢ Add placeholder guidance text like ‚ÄúDrag or click to add your signature‚Äù.<br>‚Ä¢ Support JPG/PNG/SVG & give immediate feedback on invalid files. |
| **Visual consistency (spacing, alignment, button styles)** | Small visual polish signals professionalism and reduces cognitive load. | ‚Ä¢ Adopt a spacing scale (4-pt or 8-pt) and apply via design tokens.<br>‚Ä¢ Run a CSS linter or style-lint for button component variations.<br>‚Ä¢ Align labels with inputs using flex/grid; test responsive breakpoints. |
| **Copy & placeholders** | Informative placeholders accelerate form filling and reduce errors. | ‚Ä¢ Replace lorem/weak copy with concrete examples (‚Äòe.g. Acme Corp‚Äô) and formatting hints (‚Äò+1 (555) 123-4567‚Äô).<br>‚Ä¢ Proof-read for spelling & case consistency. |
| **Error & empty-state messaging** | Current timeouts feel like the app froze. Human-friendly messages keep users engaged. | ‚Ä¢ Display inline errors when a section fails to load (e.g., ‚ÄúCan‚Äôt find Line Items, retry?‚Äù).<br>‚Ä¢ Offer retry/refresh CTA instead of silent failure. |

### Priority Action Items

Ranked list of immediate actions to improve the user experience, ordered by impact and feasibility.

1. **Ensure ‚ÄòBill From‚Äô, ‚ÄòBill To‚Äô, ‚ÄòLine Items‚Äô, ‚ÄòTax‚Äô headers render on initial load (fix conditional rendering & provide fallback).**
2. **Wire real-time preview to always update on field change; add unit test coverage for data-binding.**
3. **Introduce a global spacing & button style guide; update CSS variables to eliminate padding/alignment inconsistencies.**
4. **Add clear, descriptive placeholders & helper text to all inputs for faster onboarding.**
5. **Make signature/logo upload controls always visible with clear icons and drag-and-drop support.**

## Appendix: Detailed Step Results

Complete technical details of each test step execution, including timing, status, and UI review results.

| Step | Status | Description | Runtime (ms) | UI Checks | Screenshot |
|------|--------|-------------|--------------|-----------|------------|
| 1 | ‚úÖ pass | Open a web browser and navigate to https://invoify.vercel.app | 20648 | 8/9 passed | üì∏ Yes |
| 2 | ‚ùå fail | Wait for the invoice page to load completely ensuring all calculation fields are visible | 45962 | N/A | ‚ùå No |
| 3 | ‚ùå pending | Enter a percentage discount value in the designated discount input field | N/A | N/A | ‚ùå No |
| 4 | ‚ùå pending | Click the apply discount button to update the invoice with the percentage discount | N/A | N/A | ‚ùå No |
| 5 | ‚ùå pending | Verify that the invoice recalculates the discount correctly and updates the total with the applied percentage discount | N/A | N/A | ‚ùå No |
| 6 | ‚ùå pending | Clear the discount field and enter a fixed discount amount in the discount input field | N/A | N/A | ‚ùå No |
| 7 | ‚ùå pending | Click the apply discount button so the system recalculates the fixed discount on the invoice | N/A | N/A | ‚ùå No |
| 8 | ‚ùå pending | Verify that the fixed discount is correctly applied and that the updated total reflects the fixed discount adjustment | N/A | N/A | ‚ùå No |
| 9 | ‚ùå pending | Enter the shipping cost into the appropriate shipping cost field | N/A | N/A | ‚ùå No |
| 10 | ‚ùå pending | Review the invoice summary to confirm that the shipping cost has been added correctly to the final total | N/A | N/A | ‚ùå No |
| 11 | ‚ùå pending | Take a screenshot of the final invoice summary to capture the final state with all calculations updated | N/A | N/A | ‚ùå No |

### Screenshots

Screenshots captured during test execution are available in this directory:

- **Step 1:** `step1.png` - Open a web browser and navigate to https://invoify.vercel.app

### Code Generation Summary

This section provides an overview of the Playwright code generation process for each test step.

| Metric | Count |
|--------|-------|
| **Total Code Attempts** | 6 |
| **Successful Attempts** | 0 |
| **Failed Attempts** | 6 |
| **Success Rate** | 0.0% |

### Step Details

#### Step 1: Open a web browser and navigate to https://invoify.vercel.app

- **Status:** pass
- **Reason:** Open a web browser and navigate to https://invoify.vercel.app
- **Runtime:** 20648ms
- **Screenshot:** Captured
- **UI Review Issues:**
  - **Check for correct spelling and accurate content placement:** looks off - Placeholder text should be more descriptive.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. SKIP: Navigation to https://invoify.vercel.app completed successfully. | ‚è≠Ô∏è skipped | N/A | N/A |


#### Step 2: Wait for the invoice page to load completely ensuring all calculation fields are visible

- **Status:** fail
- **Reason:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('div:has-text("Subtotal: 0.00 USD")')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for locator('div:has-text("Subtotal: 0.00 USD")')
 (1 sub-steps failed, 0 executed, 0 skipped)
- **Runtime:** 45962ms
- **Screenshot:** Not captured
- **Summary:**
  - Processing: Verify that all calculation fields such as "Subtotal", "Total", and "Total in words" are visible on the invoice page.
- **Sub-step Execution Details:**

  | Sub-step | Status | Attempts | Error Message |
  |----------|--------|----------|---------------|
  | 1. Verify that all calculation fields such as "Subtotal", "Total", and "Total in words" are visible on the invoice page. | ‚ùå failed | 6 | Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('div:has-text("Subtotal: 0.00 USD")')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for locator('div:has-text("Subtotal: 0.00 USD")')
 |

#### Sub-step 1: Verify that all calculation fields such as "Subtotal", "Total", and "Total in words" are visible on the invoice page.

**Attempt 1** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.getByText("Subtotal: 0.00 USD")).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: getByText('Subtotal: 0.00 USD')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for getByText('Subtotal: 0.00 USD')


**Attempt 2** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.locator('div:has-text("Subtotal: 0.00 USD")')).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('div:has-text("Subtotal: 0.00 USD")')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for locator('div:has-text("Subtotal: 0.00 USD")')


**Attempt 3** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.getByText("Subtotal: 0.00 USD")).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: getByText('Subtotal: 0.00 USD')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for getByText('Subtotal: 0.00 USD')


**Attempt 4** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.locator('div:has-text("Subtotal: 0.00 USD")')).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('div:has-text("Subtotal: 0.00 USD")')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for locator('div:has-text("Subtotal: 0.00 USD")')


**Attempt 5** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.getByText("Subtotal: 0.00 USD")).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: getByText('Subtotal: 0.00 USD')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for getByText('Subtotal: 0.00 USD')


**Attempt 6** ‚ùå

**Generated Playwright Code:**

```typescript
await expect(page.locator('div:has-text("Subtotal: 0.00 USD")')).toBeVisible();
```

**Error:** Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('div:has-text("Subtotal: 0.00 USD")')
Expected: visible
Received: <element(s) not found>
Call log:
  - Expect "to.be.visible" with timeout 5000ms
  - waiting for locator('div:has-text("Subtotal: 0.00 USD")')



#### Step 3: Enter a percentage discount value in the designated discount input field

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 4: Click the apply discount button to update the invoice with the percentage discount

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 5: Verify that the invoice recalculates the discount correctly and updates the total with the applied percentage discount

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 6: Clear the discount field and enter a fixed discount amount in the discount input field

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 7: Click the apply discount button so the system recalculates the fixed discount on the invoice

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 8: Verify that the fixed discount is correctly applied and that the updated total reflects the fixed discount adjustment

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 9: Enter the shipping cost into the appropriate shipping cost field

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 10: Review the invoice summary to confirm that the shipping cost has been added correctly to the final total

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured

#### Step 11: Take a screenshot of the final invoice summary to capture the final state with all calculations updated

- **Status:** pending
- **Reason:** awaiting status reason rationale
- **Runtime:** N/Ams
- **Screenshot:** Not captured
